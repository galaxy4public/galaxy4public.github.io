<!DOCTYPE html>
<html lang="en">
<head>
	<title>Mind Drops :: assorted bits of wit</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" />
	<link rel="stylesheet" href="/theme/css/fonts/Icons.css" />
	<link rel="stylesheet" href="/theme/css/fonts/Exo2.css" />
	<link rel="stylesheet" href="/theme/css/fonts/Oswald.css" />
	<link rel="stylesheet" href="/theme/css/fonts/DancingScript.css" />
	<link rel="stylesheet" href="/theme/css/base.css" />
	<link rel="stylesheet" href="/theme/css/pygments/default.css" />
	<link rel="canonical" href="/2020/06/14/truly-responsive-pagination/" />

	<script type="application/ld+json">
	{
		"@context" : "https://schema.org",
		"@type" : "Article",
		"author": "(GalaxyMaster)",
		"name" : "Truly Responsive Pagination",
		"datePublished" : "2020-06-14T20:07:00+10:00",
		"dateModified" : "2020-06-14T20:15:57+10:00",
		"image" : "https://dmitry.khlebnikov.net/2020/06/14/truly-responsive-pagination/images/paginator-sketch.png",
		"headline" : "headline",
		"abstract": "abstract goes here",
		"articleSection": "web design",
		"interactionStatistic":
		[
			{
				"@type": "InteractionCounter",
				"interactionService":
				{
					"@type": "WebSite",
					"name": "Twitter",
					"url": "http://www.twitter.com"
				},
				"interactionType": "http://schema.org/ShareAction",
				"userInteractionCount": "1203"
			},
			{
				"@type": "InteractionCounter",
				"interactionType": "http://schema.org/CommentAction",
				"userInteractionCount": "78"
			}
		],
		"discussionUrl": "https://github.com/"
	}
	</script>
</head>

<body>
	<header>
		<span class="flex">
			<!--
			<button class="menu-toggle" type="button" tabindex="0" aria-label="Menu Toggle"><div></div></button>
			-->
			<div class="menu-toggle" tabindex="0" aria-label="Menu Toggle"><div></div></div>
			<a href="/" class="logo">
				<picture>
					<source srcset="/images/logo.svg" type="image/svg+xml">
					<source srcset="/images/.svg" type="image/svg+xml">
					<source srcset="/images/.webp" type="image/webp">
					<img src="/images/" alt="Logo">
				</picture>
				<span class="title">Mind Drops</span>
			</a>
			<nav>
				<ul>
					<li><a class="icon home" href="/">Home</a></li>
					<li><a class="icon user" href="/about">About</a></li>
					<li><a class="icon phone" href="/contact">Contact</a></li>
				</ul>
			</nav>
			<form id="search" role="search" autocomplete="off" method="get" action="/search">
				<label for="q" class="icon search">Search</label>
				<input type="text" name="q" id="q" placeholder="Search..." />
				<div class="help" aria-label="Search ">
					<dl>
						<dt>"search terms"</dt><dd>exact-match</dd>
						<dt>term1 | term2</dt><dd>term1 or term2</dd>
						<dt>term1 * term2</dt><dd>term1 followed by term2</dd>
						<dt>-term</dt><dd>exclude term</dd>
						<dt>(search terms)</dt><dd>groups terms</dd>
						<dt>ext:pdf</dt><dd>file type</dd>
					</dl>
				</div>
			</form>
			<ul class="taskbar">
				<li class="search-toggle"><label for="q" class="icon search offscreen" title="Toggle the search bar">Search</label></li>
				<!-- Not Implemented Yet
				<li><a href="#bug-report" class="icon bug offscreen" title="Report a spotted bug on the page">Report a bug</a></li>
				<li><a href="#preferences" class="icon cog offscreen" title="Configure personal preferences">Preferences</a></li>
				 -->
			</ul>
		</span>
	</header>
	<aside class="modal">
		<div id="bug-report">
			<a href="#" class="close"></a>
			<div class="content">
				<h1>Bug report</h1>
				<form id="bug-report-form" autocomplete="off">
					<textarea id="bug-report-body" name="bug-report-body">
					</textarea>
					<input type="submit" value="Submit">
				</form>
			</div>
		</div>
		<div id="preferences">
		</div>
	</aside>
	<main>
			<article id="truly-responsive-pagination">
				<header>
					<h1><a href="/2020/06/14/truly-responsive-pagination/" rel="bookmark" title="Permalink to Truly Responsive Pagination">Truly Responsive Pagination</a></h1>
				</header>
				<aside>
				</aside>
				<p>Searching the web for an example of a fully responsive pagination widget I
found that either people consider &ldquo;responsive&rdquo; to be something else or that it
is a non-trivial problem to solve.  In any case, I decided to have a crack at
it myself.</p>
<p><img alt="A sketch of how pagination widget should work" class="figure" src="https://dmitry.khlebnikov.net/2020/06/14/truly-responsive-pagination/images/paginator-sketch.png"></p>
<p>My definition of a responsive pagination widget is pretty simple: such a widget
should maintain its look and feel when the viewport (or a window) changes the
size, yet the excessive information such as page numbers in the middle should
be omitted if there is no space for them.</p>
<p>In this post I am going to describe my journey on the topic and the solution I
ended up with.</p>
<p>My starting point was pretty simple &ndash; I had the following HTML markup
structure that was representing the page numbers in a pagination widget:</p>
<pre class="highlight"><input type="radio" name="code_menu1244783848894393299" class="no-line-numbers icon list-numbered"><input type="radio" name="code_menu1244783848894393299" class="line-numbers icon list-numbered"><code class="language-html"><div class="line"><a></a><span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;paginator&quot;</span><span class="p">&gt;</span>
</div><div class="line"><a></a>    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span><span class="ni">&amp;lt;</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>2<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>3<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>4<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>5<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>6<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>7<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>8<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>9<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>10<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span><span class="ni">&amp;gt;</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</div><div class="line"><a></a><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span></div></code></pre>
<p>The goal was to create a fully responsive widget using pure CSS and HTML and to
try to avoid messing up the HTML structure unnecessarily, since I needed to
preserve the &ldquo;cleanness&rdquo; of navigation for screen readers (i.e. accessibility
is important!).</p>
<p>After a bit of brainstorming I ended up with two candidates for the
implementation of my idea:</p>
<ol>
<li>the &ldquo;old-school&rdquo; approach of presenting a list as a line of <code>inline-block</code> elements <code>float</code>ing next to each other;</li>
<li>the recently new trend in web design to use the flexbox model.</li>
</ol>
<p>Since I did not use <code>display: flex</code> before, I decided to try the flexbox layout
first.  The idea was that I could use two flex rows which wrap when the width
was shrinking.  The challenge was that I wanted to implement two visual
effects:</p>
<ol>
<li>the currently selected page should be in the middle of the pagination
     widget and the wrapping of the rows should be adjacent to that selected
     page number;</li>
<li>it should be visually unambiguous that the ranges of off-screen pages were
     omitted.</li>
</ol>
<p>After thinking a bit I realised that the above description demands to have
three logically separate components: a part before the selected page number (I
call it &ldquo;head&rdquo;), a part containing the selected page number (I call it
&ldquo;middle&rdquo;), and a part following the selected page number (I call it &ldquo;tail&rdquo;).
Hence, my HTML markup became:</p>
<pre class="highlight"><input type="radio" name="code_menu-1693201666833626579" class="no-line-numbers icon list-numbered"><input type="radio" name="code_menu-1693201666833626579" class="line-numbers icon list-numbered"><code class="language-html"><div class="line"><a></a><span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;paginator&quot;</span><span class="p">&gt;</span>
</div><div class="line"><a></a>    <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;head&quot;</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span><span class="ni">&amp;lt;</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>2<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>3<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>4<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</div><div class="line"><a></a>    <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;middle&quot;</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>5<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</div><div class="line"><a></a>    <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;tail&quot;</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>6<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>7<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>8<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>9<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>10<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span><span class="ni">&amp;gt;</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</div><div class="line"><a></a><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span></div></code></pre>
<p>Initially, I just laid out the lists in a line just to see how it looks and
whether I like the mechanics of it, so I started with the following style
definitions:</p>
<pre class="highlight"><input type="radio" name="code_menu-8365077434708708917" class="no-line-numbers icon list-numbered"><input type="radio" name="code_menu-8365077434708708917" class="line-numbers icon list-numbered"><code class="language-css"><div class="line"><a></a><span class="p">.</span><span class="nc">paginator</span> <span class="p">{</span>
</div><div class="line"><a></a>    <span class="c">/* width: 50%; */</span>
</div><div class="line"><a></a>    <span class="c">/* margin: 0 auto; */</span>
</div><div class="line"><a></a>    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">white-space</span><span class="p">:</span> <span class="kc">nowrap</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">min-width</span><span class="p">:</span> <span class="mi">15</span><span class="kt">em</span><span class="p">;</span>    <span class="c">/* 5 items 3em each */</span>
</div><div class="line"><a></a><span class="p">}</span>
</div><div class="line"><a></a>
</div><div class="line"><a></a><span class="nt">ul</span> <span class="p">{</span>
</div><div class="line"><a></a>    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">position</span><span class="p">:</span> <span class="kc">relative</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">flex-flow</span><span class="p">:</span> <span class="kc">row</span> <span class="kc">wrap</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">list-style</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">margin</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">line-height</span><span class="p">:</span> <span class="mf">1.2</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">height</span><span class="p">:</span> <span class="mf">3.2</span><span class="kt">em</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">min-width</span><span class="p">:</span> <span class="mi">6</span><span class="kt">em</span><span class="p">;</span>
</div><div class="line"><a></a><span class="p">}</span>
</div><div class="line"><a></a>
</div><div class="line"><a></a><span class="nt">ul</span> <span class="nt">li</span> <span class="p">{</span>
</div><div class="line"><a></a>    <span class="k">display</span><span class="p">:</span> <span class="kc">block</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">width</span><span class="p">:</span> <span class="mi">3</span><span class="kt">em</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">height</span><span class="p">:</span> <span class="mi">3</span><span class="kt">em</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">line-height</span><span class="p">:</span> <span class="mi">3</span><span class="p">;</span>
</div><div class="line"><a></a><span class="p">}</span>
</div><div class="line"><a></a>
</div><div class="line"><a></a><span class="nt">ul</span> <span class="nt">li</span> <span class="nt">a</span> <span class="p">{</span>
</div><div class="line"><a></a>    <span class="k">display</span><span class="p">:</span> <span class="kc">block</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">text-decoration</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
</div><div class="line"><a></a><span class="p">}</span>
</div><div class="line"><a></a>
</div><div class="line"><a></a><span class="nt">ul</span><span class="p">.</span><span class="nc">middle</span> <span class="p">{</span>
</div><div class="line"><a></a>    <span class="k">min-width</span><span class="p">:</span> <span class="mi">3</span><span class="kt">em</span><span class="p">;</span>
</div><div class="line"><a></a><span class="p">}</span></div></code></pre>
<p>The above produced the following result (the example is wrapped in a resizable
<code>&lt;div&gt;</code>, so if you are using a browser that supports it, like Chrome, you
should be able to play with it right away):</p>
<div class="demo1 resizable">
<style>
    div[class^='demo'].resizable {
        position: relative;
        overflow: auto;
        resize: horizontal;
        border: solid 0.25em rgba(0,0,0,0.5);
        max-width: 100%;
        min-width: 18.5em;
        padding: 0.6em 1.2em;
        border-radius: 0.5em;
        margin-bottom: 1.5em;
    }

    .demo1 .paginator {
        /* width: 50%; */
        /* margin: 0 auto; */
        display: flex;
        white-space: nowrap;
        overflow: hidden;
        min-width: 15em;    /* 5 items 3em each */
    }

    .demo1 ul {
        display: flex;
        position: relative;
        flex-flow: row wrap;
        list-style: none;
        margin: 0;
        padding: 0;
        line-height: 1.2;
        height: 3.2em;
        overflow: hidden;
        min-width: 6em;
    }

    .demo1 ul li {
        display: block;
        width: 3em;
        height: 3em;
        line-height: 3;
        margin: 0;
    }

    .demo1 ul li a {
        display: block;
        text-align: center;
        text-decoration: none;
    }

    .demo1 ul.middle {
        min-width: 3em;
    }
</style>
    <span class="paginator">
        <ul class="head">
            <li><a href="#">&lt;</a></li>
            <li><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">4</a></li>
        </ul>
        <ul class="middle">
            <li><a href="#">5</a></li>
        </ul>
        <ul class="tail">
            <li><a href="#">6</a></li>
            <li><a href="#">7</a></li>
            <li><a href="#">8</a></li>
            <li><a href="#">9</a></li>
            <li><a href="#">10</a></li>
            <li><a href="#">&gt;</a></li>
        </ul>
    </span>
</div>

<p>There are two issues which are immediately manifesting themselves when you
resize the widget:</p>
<ol>
<li>The &ldquo;tail&rdquo; section wraps at the end truncating the list of the available
     pages and making it impossible to jump to the last page number in the
     list;</li>
<li>There is no visual guidance whatsoever that the page number were omitted.</li>
</ol>
<p>The first issue is a difficult one since in the flexbox model we cannot easily
control which side of the row is used for wrapping.  However, if we adjust our
HTML markup and leverage not so often used <code>row-reverse</code> value of the flexbox,
then achieve the desired effect.</p>
<p>So, in the HTML markup I reversed the &ldquo;tail&rdquo; list:</p>
<pre class="highlight"><input type="radio" name="code_menu-7376115712619008663" class="no-line-numbers icon list-numbered"><input type="radio" name="code_menu-7376115712619008663" class="line-numbers icon list-numbered"><code class="language-html"><div class="line"><a></a><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;tail&quot;</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span><span class="ni">&amp;gt;</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>10<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>9<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>8<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>7<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>6<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</div><div class="line"><a></a>    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span></div></code></pre>
<p>and I adjusted the style of the &ldquo;tail&rdquo; list to apply <code>row-reverse</code> (which basically
visually presents the list in the reverse order):</p>
<pre class="highlight"><input type="radio" name="code_menu7725498642701693674" class="no-line-numbers icon list-numbered"><input type="radio" name="code_menu7725498642701693674" class="line-numbers icon list-numbered"><code class="language-css"><div class="line"><a></a><span class="nt">ul</span><span class="p">.</span><span class="nc">tail</span> <span class="p">{</span>
</div><div class="line"><a></a>    <span class="k">flex-flow</span><span class="p">:</span> <span class="kc">row-reverse</span> <span class="kc">wrap</span><span class="p">;</span>
</div><div class="line"><a></a><span class="p">}</span></div></code></pre>
<p>With the above changes applied the result looks much more closer to what we
want:</p>
<div class="demo2 resizable">
<style>
    .demo2 .paginator {
        /* width: 50%; */
        /* margin: 0 auto; */
        display: flex;
        white-space: nowrap;
        overflow: hidden;
        min-width: 15em;    /* 5 items 3em each */
    }

    .demo2 ul {
        display: flex;
        position: relative;
        flex-flow: row wrap;
        list-style: none;
        margin: 0;
        padding: 0;
        line-height: 1.2;
        height: 3.2em;
        overflow: hidden;
        min-width: 6em;
    }

    .demo2 ul li {
        display: block;
        width: 3em;
        height: 3em;
        line-height: 3;
        margin: 0;
    }

    .demo2 ul li a {
        display: block;
        text-align: center;
        text-decoration: none;
    }

    .demo2 ul.middle {
        min-width: 3em;
    }

    .demo2 ul.tail {
        flex-flow: row-reverse wrap;
    }
</style>
    <span class="paginator">
        <ul class="head">
            <li><a href="#">&lt;</a></li>
            <li><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">4</a></li>
        </ul>
        <ul class="middle">
            <li><a href="#">5</a></li>
        </ul>
        <ul class="tail">
            <li><a href="#">&gt;</a></li>
            <li><a href="#">10</a></li>
            <li><a href="#">9</a></li>
            <li><a href="#">8</a></li>
            <li><a href="#">7</a></li>
            <li><a href="#">6</a></li>
        </ul>
    </span>
</div>

<p>Now, to tackle with the visual guidance for the omitted page numbers we can do
something like the following: we can display dots in space when the page number
is being wrapped.  To do so we could use pseudo-elements for the &ldquo;middle&rdquo; list:</p>
<pre class="highlight"><input type="radio" name="code_menu2708765069059832098" class="no-line-numbers icon list-numbered"><input type="radio" name="code_menu2708765069059832098" class="line-numbers icon list-numbered"><code class="language-css"><div class="line"><a></a><span class="nt">ul</span><span class="p">.</span><span class="nc">middle</span><span class="p">::</span><span class="nd">before</span> <span class="p">{</span>
</div><div class="line"><a></a>    <span class="k">content</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">width</span><span class="p">:</span> <span class="mi">300</span><span class="kt">%</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">height</span><span class="p">:</span> <span class="mi">1</span><span class="kt">em</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">position</span><span class="p">:</span> <span class="kc">absolute</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">z-index</span><span class="p">:</span> <span class="mi">-1</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">border-top</span><span class="p">:</span> <span class="kc">dotted</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">left</span><span class="p">:</span> <span class="mi">-100</span><span class="kt">%</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">top</span><span class="p">:</span> <span class="mf">1.5</span><span class="kt">em</span><span class="p">;</span>
</div><div class="line"><a></a><span class="p">}</span></div></code></pre>
<p>A few things to note: we are creating a pseudo-element which is three times
wider than its parent, we position it absolutely, shift it 1/3 to the left and
half way down.  With the only border defined to be the top border we are
getting a dotted line that goes through the middle of our &ldquo;middle&rdquo; list.</p>
<p>However, to make this work we also need to ensure that the border we created
can extend beyond the box defined by the &ldquo;middle&rdquo; list, hence we need to set
<code>overflow</code> to <code>visible</code> and let the border overflow the boundaries:</p>
<pre class="highlight"><input type="radio" name="code_menu3585593543443834509" class="no-line-numbers icon list-numbered"><input type="radio" name="code_menu3585593543443834509" class="line-numbers icon list-numbered"><code class="language-css"><div class="line"><a></a><span class="nt">ul</span><span class="p">.</span><span class="nc">middle</span> <span class="p">{</span>
</div><div class="line"><a></a>    <span class="k">overflow</span><span class="p">:</span> <span class="kc">visible</span><span class="p">;</span>  <span class="c">/* show the background dot line */</span>
</div><div class="line"><a></a><span class="p">}</span></div></code></pre>
<p>Finally, some additional cosmetic touches are required:</p>
<ul>
<li>the list items have transparent background and the border line is visible
    behind the page numbers, so to address this we need to explicitly set the
    <code>background</code> property for list items;</li>
<li>to overlay our explicitly defined background on top of the border line we
    need to bump our list items up in the rendering order by setting <code>z-index</code>
    to be higher;</li>
<li>we need to handle a situation when the widget is compressed to its minimal
    size so there are just three page numbers: the first, the current, and the
    last page number &ndash; in this situation we would not have any space between
    list items, yet we need to indicate that the page ranges were omitted &ndash; we
    can do this by playing with <code>min-width</code> for the &ldquo;head&rdquo; and &ldquo;tail&rdquo; lists.</li>
</ul>
<p>The above translates to the following styling rules:</p>
<pre class="highlight"><input type="radio" name="code_menu7736463484628707666" class="no-line-numbers icon list-numbered"><input type="radio" name="code_menu7736463484628707666" class="line-numbers icon list-numbered"><code class="language-css"><div class="line"><a></a><span class="nt">ul</span> <span class="nt">li</span> <span class="p">{</span>
</div><div class="line"><a></a>    <span class="k">z-index</span><span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
</div><div class="line"><a></a>    <span class="k">background</span><span class="p">:</span> <span class="kc">whitesmoke</span><span class="p">;</span>
</div><div class="line"><a></a><span class="p">}</span>
</div><div class="line"><a></a>
</div><div class="line"><a></a><span class="nt">ul</span><span class="p">.</span><span class="nc">head</span><span class="o">,</span>
</div><div class="line"><a></a><span class="nt">ul</span><span class="p">.</span><span class="nc">tail</span> <span class="p">{</span>
</div><div class="line"><a></a>    <span class="k">min-width</span><span class="p">:</span> <span class="mf">6.5</span><span class="kt">em</span><span class="p">;</span>
</div><div class="line"><a></a><span class="p">}</span></div></code></pre>
<p>OK, it is time to see the result of all these changes:</p>
<div class="demo3 resizable">
<style>
    .demo3 .paginator {
        /* width: 50%; */
        /* margin: 0 auto; */
        display: flex;
        white-space: nowrap;
        overflow: hidden;
        min-width: 15em;    /* 5 items 3em each */
    }

    .demo3 ul {
        display: flex;
        position: relative;
        flex-flow: row wrap;
        list-style: none;
        margin: 0;
        padding: 0;
        line-height: 1.2;
        height: 3.2em;
        overflow: hidden;
        min-width: 6em;
    }

    .demo3 ul li {
        display: block;
        width: 3em;
        height: 3em;
        line-height: 3;
        margin: 0;
        z-index: 1;
        background: whitesmoke;
    }

    .demo3 ul li a {
        display: block;
        text-align: center;
        text-decoration: none;
    }

    .demo3 ul.middle::before {
        content: '';
        width: 300%;
        height: 1em;
        position: absolute;
        border-top: dotted;
        left: -100%;
        top: 1.5em;
    }

    .demo3 ul.middle {
        min-width: 3em;
        overflow: visible;
    }

    .demo3 ul.tail {
        flex-flow: row-reverse wrap;
    }

    .demo3 ul.head,
    .demo3 ul.tail {
        min-width: 6.5em;
    }
</style>
    <span class="paginator">
        <ul class="head">
            <li><a href="#">&lt;</a></li>
            <li><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">4</a></li>
        </ul>
        <ul class="middle">
            <li><a href="#">5</a></li>
        </ul>
        <ul class="tail">
            <li><a href="#">&gt;</a></li>
            <li><a href="#">10</a></li>
            <li><a href="#">9</a></li>
            <li><a href="#">8</a></li>
            <li><a href="#">7</a></li>
            <li><a href="#">6</a></li>
        </ul>
    </span>
</div>

<p>Although the result looks promising and is a workable solution, there is still
a couple of issues left unsolved:</p>
<ol>
<li>The biggest concern I have with this solution is that it requires
     reordering of the &ldquo;tail&rdquo; list and it is messing up the screen readers,
     therefore making it much harder for people with assistive technologies to
     use it;</li>
<li>I also discovered an edge case if the current page was adjacent to &ldquo;head&rdquo;
     (e.g. the second page) or to &ldquo;tail&rdquo; (e.g. the second to last page) the
     range dots would be still present in that case since they are regulated by
     that <code>.5em</code> space I left for the &ldquo;head&rdquo; and &ldquo;tail&rdquo; lists in the
     <code>min-width</code> attribute.</li>
</ol>
<p>The first issue may be solved by introducing a shadow copy of the pagination
widget that is designed specifically for the screen readers while making this
visually pleasing widget hidden from the screen readers.</p>
<p>The second issue is much more puzzling and so far I could not find a pure HTML
+ CSS solution for it.  It can be addressed by a bit of JavaScript, but I did
not want to go that route for my blog.  Most likely, since my blog is
statically generated I will address it using the logic of the generator itself.</p>
<p>Still, I think the techniques I demonstrated here may be quite useful to some
people who are designing pure HTML and CSS adaptive widgets.</p>
				<footer>
					<span><span class="contextual">Offloaded on </span><time datetime="2020-06-14T20:07:00+10:00">
						<span class="month"><a href="/2020/06/" title="A link to the archives for June of 2020">Jun<span class="month full">e</span></a></span>
						<span class="day">14</span>
						<span class="year"><a href="/2020/" title="A link to the archives for the year of 2020">2020</a></span>
					</time></span>
						<span class="contextual">into </span><span class="category"><a href="/category/web-design/" title="A link to a collection of articles in the 'web design' category">web design</a></span>
					<span class="contextual">and tagged with:</span>
					<ul class="tags">
						<li class="tag">
							<span>
								<a href="/tag/html/" rel="tag" title="A link to the collection tagged with 'html'" data-count="2" ><span>html</span></a>
							</span>
						</li>
						<li class="tag">
							<span>
								<a href="/tag/css/" rel="tag" title="A link to the collection tagged with 'css'" data-count="2" ><span>css</span></a>
							</span>
						</li>
						<li class="tag">
							<span>
								<a href="/tag/design/" rel="tag" title="A link to the collection tagged with 'design'" data-count="2" ><span>design</span></a>
							</span>
						</li>
						</ul>
				</footer>
			</article>
		<footer>
		</footer>
	</main>
	<footer>
	</footer>
</body>
</html>